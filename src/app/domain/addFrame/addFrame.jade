div.addFrame(layout='row')

  div.scrolling-contents(
    style='height: {{ windowHeight - (windowWidth >= 960 ? 64 : 56) }}px;'
  )

    md-list.custom-list(hide-xs)

      md-list-item.md-item-header.md-whiteframe-z1(layout='row')
        h3 Всего рамок: {{vm.frames.length}}
        span(flex)
        md-progress-circular(ng-if='!vm.frames.length')
      md-virtual-repeat-container(style='height: {{windowHeight - 143 }}px')
        div.md-item-text-frame.md-whiteframe-z1(
          md-virtual-repeat='frame in vm.frames'
        )
          | {{frame.material.name}} "{{frame.brand.name}}" {{frame.colour.name}} {{frame.frameSize.name}}/{{frame.packageRel}}

  div.md-whiteframe-z1.custom-margin(layout='column' layout-align='top center' flex)

    div(layout='column' layout-align='top center' style='width: 100%')
      h2 Создание новой рамки

      searchable-select(
        label='Багет'
        model='vm.frame.baguetteId'
        model-name='Baguette'
        options='vm.baguettes'
        not-addable='true'
        on-close='vm.useClickedBaguette()'
      )


    div(ng-show='vm.frame.baguetteId' style='width: 100%')
      h2.center-text-input Свойства рамки
      form(name="frameAttrsForm" layout='column' layout-align='center center')

        md-input-container.input-margin
          label Название рамки
          input(type='text' ng-model='vm.frame.name' name='name' )

        md-input-container.input-margin
          label Рыночная цена (руб.)
          input(step='1' type='number' ng-model='vm.frame.highPrice' min='1'  name='highPrice' input-clear='black')

        md-input-container.input-margin
          label Оптовая цена (руб.)
          input(step='1' type='number' ng-model='vm.frame.lowPrice' min='1'  name='lowPrice' input-clear='black')

        md-input-container.input-margin
          label Вес (кг.)
          input(
            step='0.1'
            type='number'
            ng-model='vm.frame.pieceWeight'
            min='1'
            required name='pieceWeight'
            input-clear='black'
          )
          div(ng-messages="frameAttrsForm.pieceWeight.$error")
            div(ng-message="required") Поле не может быть пустым

        md-input-container.input-margin
          label Штук в коробке
          input(
            step='1'
            type='number'
            ng-model='vm.frame.packageRel'
            min='1'
            required
            name='packageRel'
            input-clear='black'
            ng-change="vm.refreshName()"
          )
          div(ng-messages="frameAttrsForm.packageRel.$error")
            div(ng-message="required") Поле не может быть пустым

        searchable-select(
          label='Размер'
          model='vm.frame.frameSizeId'
          model-name='FrameSize'
          options='vm.frameSize'
          not-addable='false'
          on-close="vm.refreshName()"
        )

    div.cust-divider(layout='column' layout-align='center center' style='width: 100%')
      md-button.md-raised(ng-click='vm.saveFrame()' ng-if='vm.paramsCheck') Сохранить рамку
